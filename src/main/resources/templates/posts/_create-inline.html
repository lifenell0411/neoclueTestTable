<!-- templates/posts/_create-inline.html -->
<div th:fragment="inlineCreate(pf)">
    <div class="mt-5"></div>
    <div class="card">
        <div class="card-header">새 글 작성</div>
        <div class="card-body">

<!--            list하단에 들어갈 create, 액션은 /posts/row로 가는데 이게 PostRowController의 createRow메서드로 전송되어 post-row.html로 item을 가지고 넘겨짐-->

            <form th:action="@{/posts/row}" method="post"
                  th:object="${post}"
                  th:attr="id=${pf} + 'postForm'"
                  novalidate
                  data-confirm="글을 등록하시겠습니까?">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                <div class="form-group">
                    <label th:attr="for=${pf} + 'title'">제목</label>
                    <!-- name=title 유지 -->
                    <input type="text" name="title" class="form-control" required
                           th:attr="id=${pf} + 'title'">
                </div>

                <div class="form-group">
                    <label th:attr="for=${pf} + 'body'">본문</label>
                    <div th:attr="id=${pf} + 'editor-slot'" class="editor-slot">
                        <!-- name=body 유지, id만 pf 부여 -->
                        <textarea name="body" required
                                  th:attr="id=${pf} + 'body'"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">첨부파일</label>

                    <div class="border rounded p-3 text-center"
                         th:attr="id=${pf} + 'dz-create'">
                        <div class="mb-2">파일을 여기로 끌어다 놓거나 파일 추가버튼을 클릭하세요.</div>
                        <button type="button" class="btn btn-outline-secondary btn-sm"
                                th:attr="id=${pf} + 'addBtn-create'">파일 추가</button>
                    </div>
                    <small class="text-muted">여러 번 눌러서 계속 추가할 수 있어요</small>

                    <!-- 제출용 hidden input (name=files 유지) -->
                    <input type="file" name="files" class="d-none" multiple
                           th:attr="id=${pf} + 'files-create'">
                    <!-- 고르는 용도 -->
                    <input type="file" class="d-none" multiple
                           th:attr="id=${pf} + 'picker-create'">
                    <!-- 목록 -->
                    <ul class="list-group mt-2"
                        th:attr="id=${pf} + 'list-create'"></ul>
                </div>

                <div class="d-flex justify-content-end mt-3">
                    <button type="submit" class="btn btn-primary">등록</button>
                </div>
            </form>
        </div>
    </div>


</div>
